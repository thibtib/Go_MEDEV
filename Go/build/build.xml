<?xml version="1.0" encoding="UTF-8"?>
<project name="JeuDeGo" default="build" basedir=".">
	<description>This is a simple test project.</description>
	<target name="checkDependencies"
			description="Check if dependencies are satisfied">
		<property name="src.location" location="../src"/>
		<mkdir dir="release"/>
		<mkdir dir="release/.class"/>
		<property name="bin.location" location="release"/>
		<echo message="Source directory is ${src.location}"/>
		<condition property="src.available">
			<and>
				<available file="${src.location}" type="dir"/>
				<available file="${bin.location}" type="dir"/>
			</and>
		</condition>
	</target>
	<target name="build" description="Build the application"
			depends="checkDependencies" if="src.available">
		<echo message="Building application..."/>
		<javac srcdir="${src.location}" destdir="${bin.location}/.class"/>
		<manifest file="MANIFEST.MF">
		  <attribute name="Main-Class"
					 value="go.Go" />
		</manifest>
		<jar destfile="${bin.location}/Go.jar" basedir="${bin.location}/.class" manifest="MANIFEST.MF">
			<fileset dir="${bin.location}/.class" />
		</jar>
		<echo message="Done!"/>
	</target>
</project>